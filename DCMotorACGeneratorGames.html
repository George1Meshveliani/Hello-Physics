<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC Motor, AC Generator & Transformers — Interactive Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        window.MathJax = {
            tex: { inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$', '$$'], ['\\[', '\\]']] },
            svg: { fontCache: 'global' }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        body { font-family: 'Inter', system-ui, sans-serif; background-color: #121212; color: #E0E0E0; }
        .card { background-color: #1E1E1E; border-radius: 12px; box-shadow: 0 6px 20px rgba(0,0,0,0.3); padding: 2rem; }
        .game-section { scroll-margin-top: 2rem; }
        .feedback-correct { background-color: rgba(34, 197, 94, 0.2); border: 1px solid #22c55e; color: #86efac; }
        .feedback-incorrect { background-color: rgba(239, 68, 68, 0.2); border: 1px solid #ef4444; color: #fca5a5; }
        .part-option { cursor: pointer; transition: all 0.2s; }
        .part-option:hover { background-color: #334155; }
        .part-option.selected { background-color: #4f46e5; color: white; }
        .part-option.correct { background-color: #22c55e; color: white; }
        .part-option.wrong { background-color: #ef4444; color: white; }
        .diagram-box { background: #0f172a; border: 2px solid #334155; border-radius: 8px; padding: 1.5rem; }
        input[type="number"], input[type="text"] { background: #1e293b; border: 1px solid #475569; color: #e2e8f0; padding: 0.5rem 0.75rem; border-radius: 6px; }
        .btn { padding: 0.5rem 1rem; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.1s, background 0.2s; }
        .btn-primary { background: #4f46e5; color: white; border: none; }
        .btn-primary:hover { background: #4338ca; }
        .btn-secondary { background: #475569; color: #e2e8f0; border: none; }
        .btn-secondary:hover { background: #64748b; }
    </style>
</head>
<body class="min-h-screen pb-20">

    <!-- Header -->
    <header class="bg-slate-900 border-b border-slate-700 py-4 px-6 sticky top-0 z-10">
        <h1 class="text-2xl md:text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-amber-400 to-orange-500">
            DC Motor, AC Generator & Transformers
        </h1>
        <p class="text-slate-400 mt-1">Interactive games — instructions in each section</p>
    </header>

    <main class="max-w-4xl mx-auto px-4 py-8 space-y-12">

        <!-- Instructions -->
        <section class="card border-l-4 border-amber-500">
            <h2 class="text-xl font-semibold text-amber-400 mb-2">How to use this page</h2>
            <p class="text-slate-300">Each section is a short game or activity. Read the <strong>Instructions</strong>, try the task, then use <strong>Check</strong> or <strong>Show solution</strong> where available. Some games use calculations (with $V$, $I$, $N$, turns ratio, etc.) and some focus on observations and concepts.</p>
        </section>

        <!-- ========== GAME 1: DC Motor — Label the parts ========== -->
        <section id="game-dc-parts" class="game-section card">
            <h2 class="text-2xl font-bold text-amber-400 mb-2">Game 1: DC Motor — Label the parts</h2>
            <div class="text-slate-400 text-sm mb-4">DC Motor</div>
            <p class="text-slate-300 mb-4"><strong>Instructions:</strong> Below are four parts of a simple DC motor. Match each label (A–D) to the correct part by clicking the option you think is right for each.</p>
            <div class="diagram-box mb-4 inline-block">
                <p class="text-slate-400 text-sm mb-2">Schematic: coil in magnetic field, with contacts</p>
                <p><strong>A</strong> — where the coil is; <strong>B</strong> — reverses current every half turn; <strong>C</strong> — fixed contacts; <strong>D</strong> — magnet providing field</p>
            </div>
            <div class="space-y-3">
                <div>
                    <span class="text-slate-300">Label <strong>A</strong> is:</span>
                    <div class="flex flex-wrap gap-2 mt-1">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="A" data-answer="Rotor coil">Rotor coil</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="A" data-answer="Commutator">Commutator</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="A" data-answer="Brushes">Brushes</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="A" data-answer="Stator (magnet)">Stator (magnet)</button>
                    </div>
                </div>
                <div>
                    <span class="text-slate-300">Label <strong>B</strong> is:</span>
                    <div class="flex flex-wrap gap-2 mt-1">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="B" data-answer="Rotor coil">Rotor coil</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="B" data-answer="Commutator">Commutator</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="B" data-answer="Brushes">Brushes</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="B" data-answer="Stator (magnet)">Stator (magnet)</button>
                    </div>
                </div>
                <div>
                    <span class="text-slate-300">Label <strong>C</strong> is:</span>
                    <div class="flex flex-wrap gap-2 mt-1">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="C" data-answer="Rotor coil">Rotor coil</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="C" data-answer="Commutator">Commutator</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="C" data-answer="Brushes">Brushes</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="C" data-answer="Stator (magnet)">Stator (magnet)</button>
                    </div>
                </div>
                <div>
                    <span class="text-slate-300">Label <strong>D</strong> is:</span>
                    <div class="flex flex-wrap gap-2 mt-1">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="D" data-answer="Rotor coil">Rotor coil</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="D" data-answer="Commutator">Commutator</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="D" data-answer="Brushes">Brushes</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="dc-parts" data-label="D" data-answer="Stator (magnet)">Stator (magnet)</button>
                    </div>
                </div>
            </div>
            <div class="mt-4 flex gap-2">
                <button type="button" id="check-dc-parts" class="btn btn-primary">Check answers</button>
            </div>
            <p id="feedback-dc-parts" class="mt-3 hidden rounded px-3 py-2"></p>
        </section>

        <!-- ========== GAME 2: DC Motor — Back EMF calculation ========== -->
        <section id="game-dc-calc" class="game-section card">
            <h2 class="text-2xl font-bold text-amber-400 mb-2">Game 2: DC Motor — Back EMF calculation</h2>
            <p class="text-slate-300 mb-4"><strong>Instructions:</strong> In a DC motor, the coil rotates in a magnetic field and generates a <em>back EMF</em> $\mathcal{E}_\text{back}$ that opposes the supply voltage. The net voltage driving current through the coil resistance $R$ is $V_\text{supply} - \mathcal{E}_\text{back} = I R$. So $\mathcal{E}_\text{back} = V_\text{supply} - I R$. Use this to find the back EMF.</p>
            <div class="bg-slate-800/50 rounded-lg p-4 mb-4">
                <p class="text-slate-300">A motor is connected to <strong>24 V</strong> and draws <strong>2 A</strong>. The resistance of the coil is <strong>3 Ω</strong>. What is the back EMF (in volts)?</p>
            </div>
            <div class="flex flex-wrap items-center gap-2">
                <label class="text-slate-300">Back EMF =</label>
                <input type="number" id="input-back-emf" step="0.1" placeholder="e.g. 18" class="w-24" />
                <span class="text-slate-400">V</span>
                <button type="button" id="check-back-emf" class="btn btn-primary ml-2">Check</button>
            </div>
            <p id="feedback-back-emf" class="mt-3 hidden rounded px-3 py-2"></p>
        </section>

        <!-- ========== GAME 3: AC Generator vs DC Motor — Observations ========== -->
        <section id="game-ac-vs-dc" class="game-section card">
            <h2 class="text-2xl font-bold text-amber-400 mb-2">Game 3: AC Generator vs DC Motor — Observations</h2>
            <p class="text-slate-300 mb-4"><strong>Instructions:</strong> Choose the best answer for each question. Think about what <em>output</em> each device gives and what <em>parts</em> they use (commutator vs slip rings).</p>
            <div class="space-y-4">
                <div>
                    <p class="text-slate-300 font-medium mb-2">1. Which device uses <strong>slip rings</strong> (and not a commutator)?</p>
                    <div class="flex flex-wrap gap-2">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="ac-vs-dc" data-q="1" data-answer="AC generator">AC generator</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="ac-vs-dc" data-q="1" data-answer="DC motor">DC motor</button>
                    </div>
                </div>
                <div>
                    <p class="text-slate-300 font-medium mb-2">2. Which device produces <strong>DC</strong> (direct current) at its output?</p>
                    <div class="flex flex-wrap gap-2">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="ac-vs-dc" data-q="2" data-answer="AC generator">AC generator</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="ac-vs-dc" data-q="2" data-answer="DC motor">DC motor</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="ac-vs-dc" data-q="2" data-answer="Neither">Neither</button>
                    </div>
                </div>
                <div>
                    <p class="text-slate-300 font-medium mb-2">3. In a DC motor, what is the role of the <strong>commutator</strong>?</p>
                    <div class="flex flex-wrap gap-2">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="ac-vs-dc" data-q="3" data-answer="Reverse current in the coil every half turn so torque stays in one direction">Reverse current in the coil every half turn so torque stays in one direction</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="ac-vs-dc" data-q="3" data-answer="Produce alternating voltage">Produce alternating voltage</button>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <button type="button" id="check-ac-vs-dc" class="btn btn-primary">Check answers</button>
            </div>
            <p id="feedback-ac-vs-dc" class="mt-3 hidden rounded px-3 py-2"></p>
        </section>

        <!-- ========== GAME 4: Transformer — Step-up or Step-down? ========== -->
        <section id="game-xformer-type" class="game-section card">
            <h2 class="text-2xl font-bold text-amber-400 mb-2">Game 4: Transformer — Step-up or Step-down?</h2>
            <p class="text-slate-300 mb-4"><strong>Instructions:</strong> For an ideal transformer, $\dfrac{V_1}{V_2} = \dfrac{N_1}{N_2}$. If $V_2 > V_1$ (more turns on secondary) it is a <strong>step-up</strong> transformer; if $V_2 < V_1$ it is <strong>step-down</strong>. Say which type each is.</p>
            <div class="space-y-4">
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <p class="text-slate-300 mb-2">(a) Primary 200 turns, Secondary 800 turns.</p>
                    <div class="flex flex-wrap gap-2">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-type" data-q="a" data-answer="Step-up">Step-up</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-type" data-q="a" data-answer="Step-down">Step-down</button>
                    </div>
                </div>
                <div class="bg-slate-800/50 rounded-lg p-4">
                    <p class="text-slate-300 mb-2">(b) Primary 400 V, Secondary 100 V.</p>
                    <div class="flex flex-wrap gap-2">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-type" data-q="b" data-answer="Step-up">Step-up</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-type" data-q="b" data-answer="Step-down">Step-down</button>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <button type="button" id="check-xformer-type" class="btn btn-primary">Check answers</button>
            </div>
            <p id="feedback-xformer-type" class="mt-3 hidden rounded px-3 py-2"></p>
        </section>

        <!-- ========== GAME 5: Transformer — Voltage and turns calculation ========== -->
        <section id="game-xformer-calc" class="game-section card">
            <h2 class="text-2xl font-bold text-amber-400 mb-2">Game 5: Transformer — Voltage and turns</h2>
            <p class="text-slate-300 mb-4"><strong>Instructions:</strong> Use the turns ratio: $\dfrac{V_1}{V_2} = \dfrac{N_1}{N_2}$. So $V_2 = V_1 \cdot \dfrac{N_2}{N_1}$. Find the missing value and type it below.</p>
            <div class="bg-slate-800/50 rounded-lg p-4 mb-4">
                <p class="text-slate-300">Primary: $N_1 = 500$ turns, $V_1 = 220\ \text{V}$. Secondary: $N_2 = 100$ turns. What is the secondary voltage $V_2$ (in volts)?</p>
            </div>
            <div class="flex flex-wrap items-center gap-2">
                <label class="text-slate-300">$V_2$ =</label>
                <input type="number" id="input-v2" step="0.1" placeholder="e.g. 44" class="w-24" />
                <span class="text-slate-400">V</span>
                <button type="button" id="check-v2" class="btn btn-primary ml-2">Check</button>
            </div>
            <p id="feedback-v2" class="mt-3 hidden rounded px-3 py-2"></p>
        </section>

        <!-- ========== GAME 6: Transformer — Power and current ========== -->
        <section id="game-xformer-power" class="game-section card">
            <h2 class="text-2xl font-bold text-amber-400 mb-2">Game 6: Transformer — Power and current</h2>
            <p class="text-slate-300 mb-4"><strong>Instructions:</strong> For an ideal transformer, power in ≈ power out: $P_1 = P_2$, so $V_1 I_1 = V_2 I_2$. Use this to find the unknown.</p>
            <div class="bg-slate-800/50 rounded-lg p-4 mb-4">
                <p class="text-slate-300">Primary: $V_1 = 200\ \text{V}$, $I_1 = 5\ \text{A}$. Secondary: $V_2 = 50\ \text{V}$. What is the secondary current $I_2$ (in amperes)?</p>
            </div>
            <div class="flex flex-wrap items-center gap-2">
                <label class="text-slate-300">$I_2$ =</label>
                <input type="number" id="input-i2" step="0.1" placeholder="e.g. 20" class="w-24" />
                <span class="text-slate-400">A</span>
                <button type="button" id="check-i2" class="btn btn-primary ml-2">Check</button>
            </div>
            <p id="feedback-i2" class="mt-3 hidden rounded px-3 py-2"></p>
        </section>

        <!-- ========== GAME 7: Match the transformer type (application) ========== -->
        <section id="game-xformer-match" class="game-section card">
            <h2 class="text-2xl font-bold text-amber-400 mb-2">Game 7: Where do we use which transformer?</h2>
            <p class="text-slate-300 mb-4"><strong>Instructions:</strong> Match the application to the typical transformer type (step-up or step-down).</p>
            <div class="space-y-3">
                <div>
                    <p class="text-slate-300 mb-1">Power station sending electricity to the grid (increase voltage for long-distance transmission):</p>
                    <div class="flex flex-wrap gap-2">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-match" data-q="grid" data-answer="Step-up">Step-up</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-match" data-q="grid" data-answer="Step-down">Step-down</button>
                    </div>
                </div>
                <div>
                    <p class="text-slate-300 mb-1">Wall adapter for a laptop (e.g. 230 V down to 19 V):</p>
                    <div class="flex flex-wrap gap-2">
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-match" data-q="laptop" data-answer="Step-up">Step-up</button>
                        <button type="button" class="part-option px-3 py-1 rounded bg-slate-700" data-game="xformer-match" data-q="laptop" data-answer="Step-down">Step-down</button>
                    </div>
                </div>
            </div>
            <div class="mt-4">
                <button type="button" id="check-xformer-match" class="btn btn-primary">Check answers</button>
            </div>
            <p id="feedback-xformer-match" class="mt-3 hidden rounded px-3 py-2"></p>
        </section>

    </main>

    <script>
        (function () {
            var correctDC = { A: 'Rotor coil', B: 'Commutator', C: 'Brushes', D: 'Stator (magnet)' };
            var correctACvsDC = { '1': 'AC generator', '2': 'DC motor', '3': 'Reverse current in the coil every half turn so torque stays in one direction' };
            var correctXformerType = { a: 'Step-up', b: 'Step-down' };
            var correctXformerMatch = { grid: 'Step-up', laptop: 'Step-down' };

            function showFeedback(elId, ok, msg) {
                var el = document.getElementById(elId);
                if (!el) return;
                el.textContent = msg;
                el.classList.remove('hidden', 'feedback-correct', 'feedback-incorrect');
                el.classList.add(ok ? 'feedback-correct' : 'feedback-incorrect');
            }

            function clearPartOptions(game) {
                document.querySelectorAll('.part-option[data-game="' + game + '"]').forEach(function (b) {
                    b.classList.remove('selected', 'correct', 'wrong');
                });
            }

            // Game 1: DC parts
            document.querySelectorAll('.part-option[data-game="dc-parts"]').forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var label = this.getAttribute('data-label');
                    clearPartOptions('dc-parts');
                    document.querySelectorAll('.part-option[data-game="dc-parts"][data-label="' + label + '"]').forEach(function (b) { b.classList.remove('selected', 'correct', 'wrong'); });
                    this.classList.add('selected');
                });
            });
            document.getElementById('check-dc-parts').addEventListener('click', function () {
                var ok = true;
                ['A','B','C','D'].forEach(function (label) {
                    var chosen = document.querySelector('.part-option[data-game="dc-parts"][data-label="' + label + '"].selected');
                    var correct = correctDC[label];
                    document.querySelectorAll('.part-option[data-game="dc-parts"][data-label="' + label + '"]').forEach(function (b) {
                        b.classList.remove('selected', 'correct', 'wrong');
                        if (b.getAttribute('data-answer') === correct) b.classList.add('correct');
                        else if (chosen && b === chosen && b.getAttribute('data-answer') !== correct) { b.classList.add('wrong'); ok = false; }
                    });
                    if (chosen && chosen.getAttribute('data-answer') !== correct) ok = false;
                });
                showFeedback('feedback-dc-parts', ok, ok ? 'All correct! A = Rotor coil, B = Commutator, C = Brushes, D = Stator (magnet).' : 'Some answers are wrong. Correct: A = Rotor coil, B = Commutator, C = Brushes, D = Stator (magnet).');
            });

            // Game 2: Back EMF
            document.getElementById('check-back-emf').addEventListener('click', function () {
                var val = parseFloat(document.getElementById('input-back-emf').value);
                var expected = 24 - 2 * 3; // 18
                var ok = !isNaN(val) && Math.abs(val - expected) < 0.1;
                showFeedback('feedback-back-emf', ok, ok ? 'Correct! ℰ_back = V_supply − I R = 24 − 6 = 18 V.' : 'Not quite. Use ℰ_back = V_supply − I R = 24 − (2)(3) = 18 V.');
            });

            // Game 3: AC vs DC
            document.querySelectorAll('.part-option[data-game="ac-vs-dc"]').forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var q = this.getAttribute('data-q');
                    document.querySelectorAll('.part-option[data-game="ac-vs-dc"][data-q="' + q + '"]').forEach(function (b) { b.classList.remove('selected'); });
                    this.classList.add('selected');
                });
            });
            document.getElementById('check-ac-vs-dc').addEventListener('click', function () {
                var ok = true;
                ['1','2','3'].forEach(function (q) {
                    var chosen = document.querySelector('.part-option[data-game="ac-vs-dc"][data-q="' + q + '"].selected');
                    var correct = correctACvsDC[q];
                    document.querySelectorAll('.part-option[data-game="ac-vs-dc"][data-q="' + q + '"]').forEach(function (b) {
                        b.classList.remove('correct', 'wrong');
                        if (b.getAttribute('data-answer') === correct) b.classList.add('correct');
                        else if (chosen && b === chosen) { b.classList.add('wrong'); ok = false; }
                    });
                    if (chosen && chosen.getAttribute('data-answer') !== correct) ok = false;
                });
                showFeedback('feedback-ac-vs-dc', ok, ok ? 'All correct!' : 'Check the wrong answers (green = correct, red = your wrong choice).');
            });

            // Game 4: Transformer type
            document.querySelectorAll('.part-option[data-game="xformer-type"]').forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var q = this.getAttribute('data-q');
                    document.querySelectorAll('.part-option[data-game="xformer-type"][data-q="' + q + '"]').forEach(function (b) { b.classList.remove('selected'); });
                    this.classList.add('selected');
                });
            });
            document.getElementById('check-xformer-type').addEventListener('click', function () {
                var ok = true;
                ['a','b'].forEach(function (q) {
                    var chosen = document.querySelector('.part-option[data-game="xformer-type"][data-q="' + q + '"].selected');
                    var correct = correctXformerType[q];
                    document.querySelectorAll('.part-option[data-game="xformer-type"][data-q="' + q + '"]').forEach(function (b) {
                        b.classList.remove('correct', 'wrong');
                        if (b.getAttribute('data-answer') === correct) b.classList.add('correct');
                        else if (chosen && b === chosen) { b.classList.add('wrong'); ok = false; }
                    });
                    if (chosen && chosen.getAttribute('data-answer') !== correct) ok = false;
                });
                showFeedback('feedback-xformer-type', ok, ok ? 'All correct! (a) N2 > N1 ⇒ step-up; (b) V2 < V1 ⇒ step-down.' : 'Check: (a) Step-up, (b) Step-down.');
            });

            // Game 5: V2
            document.getElementById('check-v2').addEventListener('click', function () {
                var val = parseFloat(document.getElementById('input-v2').value);
                var expected = 220 * (100 / 500); // 44
                var ok = !isNaN(val) && Math.abs(val - expected) < 0.1;
                showFeedback('feedback-v2', ok, ok ? 'Correct! V2 = V1 × (N2/N1) = 220 × (100/500) = 44 V.' : 'Use V2 = V1 × (N2/N1) = 220 × (100/500) = 44 V.');
            });

            // Game 6: I2
            document.getElementById('check-i2').addEventListener('click', function () {
                var val = parseFloat(document.getElementById('input-i2').value);
                var expected = (200 * 5) / 50; // 20
                var ok = !isNaN(val) && Math.abs(val - expected) < 0.1;
                showFeedback('feedback-i2', ok, ok ? 'Correct! V1 I1 = V2 I2 ⇒ I2 = (200×5)/50 = 20 A.' : 'Use V1 I1 = V2 I2 ⇒ I2 = (200×5)/50 = 20 A.');
            });

            // Game 7: Application match
            document.querySelectorAll('.part-option[data-game="xformer-match"]').forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var q = this.getAttribute('data-q');
                    document.querySelectorAll('.part-option[data-game="xformer-match"][data-q="' + q + '"]').forEach(function (b) { b.classList.remove('selected'); });
                    this.classList.add('selected');
                });
            });
            document.getElementById('check-xformer-match').addEventListener('click', function () {
                var ok = true;
                ['grid','laptop'].forEach(function (q) {
                    var chosen = document.querySelector('.part-option[data-game="xformer-match"][data-q="' + q + '"].selected');
                    var correct = correctXformerMatch[q];
                    document.querySelectorAll('.part-option[data-game="xformer-match"][data-q="' + q + '"]').forEach(function (b) {
                        b.classList.remove('correct', 'wrong');
                        if (b.getAttribute('data-answer') === correct) b.classList.add('correct');
                        else if (chosen && b === chosen) { b.classList.add('wrong'); ok = false; }
                    });
                    if (chosen && chosen.getAttribute('data-answer') !== correct) ok = false;
                });
                showFeedback('feedback-xformer-match', ok, ok ? 'All correct! Grid uses step-up; laptop adapter uses step-down.' : 'Grid → step-up; laptop (230 V → 19 V) → step-down.');
            });
        })();
    </script>

</body>
</html>
