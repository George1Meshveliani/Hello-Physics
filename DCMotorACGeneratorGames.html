<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC Motor, AC Generator & Transformer Games</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .game-card { background: #f8fafc; border: 2px solid #e2e8f0; border-radius: 1rem; overflow: hidden; }
        .instruction-box { background: #eff6ff; border-left: 4px solid #3b82f6; padding: 1rem 1.25rem; margin-bottom: 1rem; border-radius: 0 0.5rem 0.5rem 0; }
        .result-correct { background: #dcfce7; color: #166534; }
        .result-wrong { background: #fee2e2; color: #991b1b; }
        .part-btn { transition: all 0.2s; cursor: pointer; }
        .part-btn:hover { transform: scale(1.02); }
        .part-btn.selected { ring: 2px; ring-color: #4f46e5; }
        .order-item { cursor: grab; user-select: none; }
        .order-item:active { cursor: grabbing; }
    </style>
</head>
<body class="bg-slate-100 min-h-screen text-slate-800">
    <div class="max-w-4xl mx-auto px-4 py-8">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-indigo-700">DC Motor, AC Generator & Transformer Games</h1>
            <p class="text-lg text-slate-600 mt-2">Interactive activities to understand motors, generators, and transformers</p>
        </header>

        <nav class="mb-8 p-4 bg-white rounded-xl shadow-sm">
            <h2 class="font-semibold text-slate-700 mb-2">Jump to a game</h2>
            <div class="flex flex-wrap gap-2">
                <a href="#game1" class="px-3 py-2 bg-indigo-100 text-indigo-700 rounded-lg text-sm font-medium hover:bg-indigo-200">1. DC Motor – Name the part</a>
                <a href="#game2" class="px-3 py-2 bg-emerald-100 text-emerald-700 rounded-lg text-sm font-medium hover:bg-emerald-200">2. AC Generator – EMF calculator</a>
                <a href="#game3" class="px-3 py-2 bg-amber-100 text-amber-700 rounded-lg text-sm font-medium hover:bg-amber-200">3. Transformer type quiz</a>
                <a href="#game4" class="px-3 py-2 bg-rose-100 text-rose-700 rounded-lg text-sm font-medium hover:bg-rose-200">4. Transformer calculation</a>
                <a href="#game5" class="px-3 py-2 bg-violet-100 text-violet-700 rounded-lg text-sm font-medium hover:bg-violet-200">5. Order the connection</a>
                <a href="#game6" class="px-3 py-2 bg-cyan-100 text-cyan-700 rounded-lg text-sm font-medium hover:bg-cyan-200">6. Commutator vs slip rings</a>
            </div>
        </nav>

        <!-- ========== GAME 1: DC Motor – Name the part ========== -->
        <section id="game1" class="game-card p-6 mb-8 scroll-mt-8">
            <h2 class="text-2xl font-bold text-indigo-700 mb-2">Game 1: DC Motor – Name the part</h2>
            <div class="instruction-box">
                <strong>Instructions:</strong> Click on a part name below. Then click the correct part on the diagram (or match the number). When you select a part, you'll see its role. Try to name all four parts from memory first!
            </div>
            <div class="flex flex-wrap gap-3 mb-4">
                <button type="button" class="part-btn px-4 py-2 bg-white border-2 border-slate-300 rounded-lg font-medium" data-part="stator">Stator</button>
                <button type="button" class="part-btn px-4 py-2 bg-white border-2 border-slate-300 rounded-lg font-medium" data-part="rotor">Rotor (armature)</button>
                <button type="button" class="part-btn px-4 py-2 bg-white border-2 border-slate-300 rounded-lg font-medium" data-part="commutator">Commutator</button>
                <button type="button" class="part-btn px-4 py-2 bg-white border-2 border-slate-300 rounded-lg font-medium" data-part="brush">Brush</button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded-xl border border-slate-200 text-sm">
                    <p class="font-semibold text-slate-600 mb-2">Diagram (click a part number)</p>
                    <div class="flex flex-wrap gap-4">
                        <button type="button" class="diagram-part w-24 h-24 flex items-center justify-center rounded-xl border-2 border-slate-300 font-bold text-lg" data-part="stator">1</button>
                        <button type="button" class="diagram-part w-24 h-24 flex items-center justify-center rounded-xl border-2 border-slate-300 font-bold text-lg" data-part="rotor">2</button>
                        <button type="button" class="diagram-part w-24 h-24 flex items-center justify-center rounded-xl border-2 border-slate-300 font-bold text-lg" data-part="commutator">3</button>
                        <button type="button" class="diagram-part w-24 h-24 flex items-center justify-center rounded-xl border-2 border-slate-300 font-bold text-lg" data-part="brush">4</button>
                    </div>
                    <p class="mt-2 text-xs text-slate-500">1 = fixed magnets, 2 = rotating coil, 3 = split ring, 4 = fixed contact</p>
                </div>
                <div id="game1-feedback" class="bg-slate-50 p-4 rounded-xl border border-slate-200 min-h-[120px]">
                    <p class="text-slate-500 italic">Select a part to see its name and role.</p>
                </div>
            </div>
        </section>

        <!-- ========== GAME 2: AC Generator – EMF calculator ========== -->
        <section id="game2" class="game-card p-6 mb-8 scroll-mt-8">
            <h2 class="text-2xl font-bold text-emerald-700 mb-2">Game 2: AC Generator – Peak EMF calculator</h2>
            <div class="instruction-box">
                <strong>Instructions:</strong> Use the formula peak EMF ε₀ = N × B × A × ω, where ω = 2πf (f = frequency in Hz). Enter N (turns), B (Tesla), A (m²), and f (Hz). Click Calculate and observe how changing each quantity affects the result.
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <label class="block"><span class="font-medium">N (number of turns)</span><input type="number" id="inp-N" value="100" min="1" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2" step="1"></label>
                    <label class="block"><span class="font-medium">B (magnetic field, T)</span><input type="number" id="inp-B" value="0.2" min="0.01" step="0.01" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2"></label>
                    <label class="block"><span class="font-medium">A (area of coil, m²)</span><input type="number" id="inp-A" value="0.01" min="0.001" step="0.001" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2"></label>
                    <label class="block"><span class="font-medium">f (frequency, Hz)</span><input type="number" id="inp-f" value="50" min="0.1" step="0.1" class="mt-1 w-full border border-slate-300 rounded-lg px-3 py-2"></label>
                    <button type="button" id="btn-calc-emf" class="w-full py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700">Calculate peak EMF</button>
                </div>
                <div id="game2-result" class="bg-slate-50 p-4 rounded-xl border border-slate-200">
                    <p class="font-mono text-lg mb-2">ε₀ = N × B × A × 2πf</p>
                    <p id="game2-answer" class="text-2xl font-bold text-emerald-700">—</p>
                    <p class="text-sm text-slate-600 mt-4"><strong>Observation:</strong> Double N → peak EMF doubles. Double f → peak EMF doubles. Try it!</p>
                </div>
            </div>
        </section>

        <!-- ========== GAME 3: Transformer type quiz ========== -->
        <section id="game3" class="game-card p-6 mb-8 scroll-mt-8">
            <h2 class="text-2xl font-bold text-amber-700 mb-2">Game 3: Transformer type quiz</h2>
            <div class="instruction-box">
                <strong>Instructions:</strong> You are given primary and secondary turns (or voltages). Decide if the transformer is <strong>Step-up</strong> (V₂ > V₁), <strong>Step-down</strong> (V₂ < V₁), or <strong>Isolation</strong> (V₂ = V₁). Click your answer, then Check.
            </div>
            <div id="game3-question" class="p-4 bg-amber-50 rounded-xl border border-amber-200 mb-4">
                <p class="text-lg font-medium">Primary: <span id="q3-N1">200</span> turns, <span id="q3-V1">120</span> V. Secondary: <span id="q3-N2">50</span> turns.</p>
                <p class="text-slate-600 mt-1">What type is this transformer?</p>
            </div>
            <div class="flex flex-wrap gap-3 mb-4">
                <button type="button" class="quiz-option px-4 py-3 bg-white border-2 border-slate-300 rounded-xl font-medium" data-type="step-up">Step-up</button>
                <button type="button" class="quiz-option px-4 py-3 bg-white border-2 border-slate-300 rounded-xl font-medium" data-type="step-down">Step-down</button>
                <button type="button" class="quiz-option px-4 py-3 bg-white border-2 border-slate-300 rounded-xl font-medium" data-type="isolation">Isolation</button>
            </div>
            <button type="button" id="btn-check-type" class="px-6 py-2 bg-amber-600 text-white font-bold rounded-lg hover:bg-amber-700">Check answer</button>
            <button type="button" id="btn-next-type" class="ml-3 px-6 py-2 bg-slate-600 text-white font-bold rounded-lg hover:bg-slate-700">Next question</button>
            <div id="game3-feedback" class="mt-4 p-4 rounded-xl hidden"></div>
        </section>

        <!-- ========== GAME 4: Transformer calculation ========== -->
        <section id="game4" class="game-card p-6 mb-8 scroll-mt-8">
            <h2 class="text-2xl font-bold text-rose-700 mb-2">Game 4: Transformer calculation</h2>
            <div class="instruction-box">
                <strong>Instructions:</strong> Use V₂/V₁ = N₂/N₁. You are given V₁, N₁, and N₂. Calculate V₂ and type your answer (number only, e.g. 30). Then click Check.
            </div>
            <div id="game4-question" class="p-4 bg-rose-50 rounded-xl border border-rose-200 mb-4">
                <p class="text-lg">V₁ = <span id="q4-V1">240</span> V, N₁ = <span id="q4-N1">600</span>, N₂ = <span id="q4-N2">150</span>. Find V₂ (Volts).</p>
            </div>
            <div class="flex flex-wrap items-center gap-3">
                <label class="font-medium">V₂ = <input type="number" id="inp-V2" class="w-24 border border-slate-300 rounded-lg px-3 py-2" placeholder="?"></label>
                <span class="text-slate-500">V</span>
                <button type="button" id="btn-check-V2" class="px-6 py-2 bg-rose-600 text-white font-bold rounded-lg hover:bg-rose-700">Check</button>
            </div>
            <div id="game4-feedback" class="mt-4 p-4 rounded-xl hidden"></div>
        </section>

        <!-- ========== GAME 5: Order the connection ========== -->
        <section id="game5" class="game-card p-6 mb-8 scroll-mt-8">
            <h2 class="text-2xl font-bold text-violet-700 mb-2">Game 5: Order the connection</h2>
            <div class="instruction-box">
                <strong>Instructions:</strong> Put the steps in the correct order (from power generation to load). Click an item to move it up or use the arrows. Correct order: AC Generator → Step-up transformer → Grid → Step-down transformer → then either AC load (main path) or Rectifier → DC motor (branch). For this game, order the main path only: Generator, Step-up, Grid, Step-down, AC load.
            </div>
            <p class="text-sm text-slate-600 mb-2">Your order (click to select, then use arrows to move):</p>
            <div id="game5-list" class="flex flex-wrap gap-2 mb-4">
                <!-- filled by JS -->
            </div>
            <div class="flex gap-2 mb-4">
                <button type="button" id="btn-move-up" class="px-4 py-2 bg-violet-100 text-violet-700 rounded-lg font-medium">↑ Move up</button>
                <button type="button" id="btn-move-down" class="px-4 py-2 bg-violet-100 text-violet-700 rounded-lg font-medium">↓ Move down</button>
            </div>
            <button type="button" id="btn-check-order" class="px-6 py-2 bg-violet-600 text-white font-bold rounded-lg hover:bg-violet-700">Check order</button>
            <div id="game5-feedback" class="mt-4 p-4 rounded-xl hidden"></div>
        </section>

        <!-- ========== GAME 6: Commutator vs slip rings ========== -->
        <section id="game6" class="game-card p-6 mb-8 scroll-mt-8">
            <h2 class="text-2xl font-bold text-cyan-700 mb-2">Game 6: Commutator vs slip rings</h2>
            <div class="instruction-box">
                <strong>Instructions:</strong> Answer the multiple-choice question. Click an option (A, B, or C), then click Check. Try all questions!
            </div>
            <div id="game6-question" class="p-4 bg-cyan-50 rounded-xl border border-cyan-200 mb-4">
                <p class="text-lg font-medium" id="game6-text">In a DC motor, the current in the rotating coil is reversed every half turn by:</p>
                <ul class="mt-2 space-y-2">
                    <li><button type="button" class="mc-option w-full text-left px-4 py-2 bg-white border-2 border-slate-300 rounded-lg" data-opt="A">A. Slip rings</button></li>
                    <li><button type="button" class="mc-option w-full text-left px-4 py-2 bg-white border-2 border-slate-300 rounded-lg" data-opt="B">B. Commutator</button></li>
                    <li><button type="button" class="mc-option w-full text-left px-4 py-2 bg-white border-2 border-slate-300 rounded-lg" data-opt="C">C. Brushes</button></li>
                </ul>
            </div>
            <button type="button" id="btn-check-mc" class="px-6 py-2 bg-cyan-600 text-white font-bold rounded-lg hover:bg-cyan-700">Check answer</button>
            <button type="button" id="btn-next-mc" class="ml-3 px-6 py-2 bg-slate-600 text-white font-bold rounded-lg hover:bg-slate-700">Next question</button>
            <div id="game6-feedback" class="mt-4 p-4 rounded-xl hidden"></div>
        </section>

        <footer class="text-center text-slate-500 text-sm pt-8 border-t">
            DC Motor, AC Generator & Transformer Games · Hello Physics
        </footer>
    </div>

    <script>
        // ------- Game 1: DC Motor parts -------
        const partRoles = {
            stator: 'Stator: Fixed magnets (N–S) that create the magnetic field.',
            rotor: 'Rotor (armature): The coil that carries current and rotates. The force on it produces torque.',
            commutator: 'Commutator: A split ring that reverses the current in the coil every half turn so the torque always acts in one direction (DC motor).',
            brush: 'Brush: A fixed block that presses against the commutator (or slip ring). It carries current between the fixed wires and the rotating coil.'
        };
        document.querySelectorAll('.part-btn, .diagram-part').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.part-btn').forEach(b => b.classList.remove('ring-2', 'ring-indigo-500'));
                document.querySelectorAll('.diagram-part').forEach(b => b.classList.remove('ring-2', 'ring-indigo-500'));
                const part = this.dataset.part;
                this.classList.add('ring-2', 'ring-indigo-500');
                document.getElementById('game1-feedback').innerHTML = '<p class="font-semibold">' + part.charAt(0).toUpperCase() + part.slice(1) + '</p><p class="text-slate-600 mt-1">' + partRoles[part] + '</p>';
            });
        });

        // ------- Game 2: EMF calculator -------
        document.getElementById('btn-calc-emf').addEventListener('click', function() {
            const N = parseFloat(document.getElementById('inp-N').value) || 0;
            const B = parseFloat(document.getElementById('inp-B').value) || 0;
            const A = parseFloat(document.getElementById('inp-A').value) || 0;
            const f = parseFloat(document.getElementById('inp-f').value) || 0;
            const omega = 2 * Math.PI * f;
            const E0 = N * B * A * omega;
            document.getElementById('game2-answer').textContent = 'ε₀ = ' + E0.toFixed(2) + ' V';
        });

        // ------- Game 3: Transformer type quiz -------
        const typeQuestions = [
            { N1: 200, V1: 120, N2: 50, type: 'step-down' },
            { N1: 100, V1: 240, N2: 500, type: 'step-up' },
            { N1: 500, V1: 220, N2: 500, type: 'isolation' },
            { N1: 300, V1: 120, N2: 75, type: 'step-down' },
            { N1: 150, V1: 100, N2: 600, type: 'step-up' }
        ];
        let typeIndex = 0;
        let selectedType = null;

        function showTypeQuestion() {
            const q = typeQuestions[typeIndex];
            document.getElementById('q3-N1').textContent = q.N1;
            document.getElementById('q3-V1').textContent = q.V1;
            document.getElementById('q3-N2').textContent = q.N2;
            document.getElementById('game3-feedback').classList.add('hidden');
            selectedType = null;
            document.querySelectorAll('.quiz-option').forEach(b => { b.classList.remove('ring-2', 'ring-amber-500'); });
        }
        document.querySelectorAll('.quiz-option').forEach(b => {
            b.addEventListener('click', function() {
                document.querySelectorAll('.quiz-option').forEach(x => x.classList.remove('ring-2', 'ring-amber-500'));
                this.classList.add('ring-2', 'ring-amber-500');
                selectedType = this.dataset.type;
            });
        });
        document.getElementById('btn-check-type').addEventListener('click', function() {
            const fb = document.getElementById('game3-feedback');
            if (selectedType === null) { fb.textContent = 'Select an option first.'; fb.className = 'mt-4 p-4 rounded-xl result-wrong'; fb.classList.remove('hidden'); return; }
            const correct = typeQuestions[typeIndex].type === selectedType;
            fb.textContent = correct ? 'Correct! Well done.' : 'Not quite. The correct answer is ' + typeQuestions[typeIndex].type + '.';
            fb.className = 'mt-4 p-4 rounded-xl ' + (correct ? 'result-correct' : 'result-wrong');
            fb.classList.remove('hidden');
        });
        document.getElementById('btn-next-type').addEventListener('click', function() {
            typeIndex = (typeIndex + 1) % typeQuestions.length;
            showTypeQuestion();
        });
        showTypeQuestion();

        // ------- Game 4: Transformer calculation -------
        const calcQuestions = [
            { V1: 240, N1: 600, N2: 150 },
            { V1: 120, N1: 200, N2: 50 },
            { V1: 220, N1: 500, N2: 1000 }
        ];
        let calcIndex = 0;
        function showCalcQuestion() {
            const q = calcQuestions[calcIndex];
            document.getElementById('q4-V1').textContent = q.V1;
            document.getElementById('q4-N1').textContent = q.N1;
            document.getElementById('q4-N2').textContent = q.N2;
            document.getElementById('inp-V2').value = '';
            document.getElementById('game4-feedback').classList.add('hidden');
        }
        document.getElementById('btn-check-V2').addEventListener('click', function() {
            const q = calcQuestions[calcIndex];
            const expected = (q.V1 * q.N2 / q.N1).toFixed(1);
            const user = parseFloat(document.getElementById('inp-V2').value);
            const fb = document.getElementById('game4-feedback');
            const correct = user !== undefined && Math.abs(user - parseFloat(expected)) < 0.1;
            fb.textContent = correct ? 'Correct! V₂ = ' + expected + ' V.' : 'The correct value is V₂ = ' + expected + ' V (using V₂/V₁ = N₂/N₁).';
            fb.className = 'mt-4 p-4 rounded-xl ' + (correct ? 'result-correct' : 'result-wrong');
            fb.classList.remove('hidden');
        });
        showCalcQuestion();

        // ------- Game 5: Order the connection -------
        const correctOrder = ['AC Generator', 'Step-up transformer', 'Grid', 'Step-down transformer', 'AC load'];
        let orderItems = ['Step-down transformer', 'AC Generator', 'Grid', 'Step-up transformer', 'AC load'];
        let selectedOrderIndex = -1;

        function renderOrderList() {
            const list = document.getElementById('game5-list');
            list.innerHTML = orderItems.map((name, i) =>
                '<button type="button" class="order-item px-4 py-2 rounded-lg border-2 ' + (selectedOrderIndex === i ? 'border-violet-500 bg-violet-100' : 'border-slate-300 bg-white') + '" data-idx="' + i + '">' + (i + 1) + '. ' + name + '</button>'
            ).join('');
            list.querySelectorAll('.order-item').forEach(btn => {
                btn.addEventListener('click', function() {
                    selectedOrderIndex = parseInt(this.dataset.idx, 10);
                    renderOrderList();
                });
            });
        }
        document.getElementById('btn-move-up').addEventListener('click', function() {
            if (selectedOrderIndex <= 0) return;
            [orderItems[selectedOrderIndex - 1], orderItems[selectedOrderIndex]] = [orderItems[selectedOrderIndex], orderItems[selectedOrderIndex - 1]];
            selectedOrderIndex--;
            renderOrderList();
        });
        document.getElementById('btn-move-down').addEventListener('click', function() {
            if (selectedOrderIndex < 0 || selectedOrderIndex >= orderItems.length - 1) return;
            [orderItems[selectedOrderIndex], orderItems[selectedOrderIndex + 1]] = [orderItems[selectedOrderIndex + 1], orderItems[selectedOrderIndex]];
            selectedOrderIndex++;
            renderOrderList();
        });
        document.getElementById('btn-check-order').addEventListener('click', function() {
            const fb = document.getElementById('game5-feedback');
            const correct = orderItems.length === correctOrder.length && orderItems.every((name, i) => name === correctOrder[i]);
            fb.textContent = correct ? 'Correct order! Well done.' : 'Not quite. Correct order: ' + correctOrder.join(' → ') + '.';
            fb.className = 'mt-4 p-4 rounded-xl ' + (correct ? 'result-correct' : 'result-wrong');
            fb.classList.remove('hidden');
        });
        renderOrderList();

        // ------- Game 6: Commutator vs slip rings MC -------
        const mcQuestions = [
            { q: 'In a DC motor, the current in the rotating coil is reversed every half turn by:', A: 'Slip rings', B: 'Commutator', C: 'Brushes', correct: 'B' },
            { q: 'In an AC generator, the output is taken from the rotating coil using:', A: 'Commutator', B: 'Slip rings', C: 'Brushes only (no rings)', correct: 'B' },
            { q: 'Which part carries current between the fixed wires and the rotating coil?', A: 'Commutator', B: 'Slip ring', C: 'Brush', correct: 'C' },
            { q: 'Step-up transformer has:', A: 'N₂ > N₁', B: 'N₂ < N₁', C: 'N₂ = N₁', correct: 'A' },
            { q: 'Transformer works only with:', A: 'DC', B: 'AC', C: 'Both', correct: 'B' }
        ];
        let mcIndex = 0;
        let selectedMC = null;

        function showMCQuestion() {
            const q = mcQuestions[mcIndex];
            document.getElementById('game6-text').textContent = q.q;
            document.querySelectorAll('.mc-option').forEach((b, i) => {
                const opt = ['A', 'B', 'C'][i];
                b.textContent = opt + '. ' + q[opt];
                b.dataset.opt = opt;
                b.classList.remove('ring-2', 'ring-cyan-500');
            });
            document.getElementById('game6-feedback').classList.add('hidden');
            selectedMC = null;
        }
        document.querySelectorAll('.mc-option').forEach(b => {
            b.addEventListener('click', function() {
                document.querySelectorAll('.mc-option').forEach(x => x.classList.remove('ring-2', 'ring-cyan-500'));
                this.classList.add('ring-2', 'ring-cyan-500');
                selectedMC = this.dataset.opt;
            });
        });
        document.getElementById('btn-check-mc').addEventListener('click', function() {
            const fb = document.getElementById('game6-feedback');
            if (selectedMC === null) { fb.textContent = 'Select an option first.'; fb.className = 'mt-4 p-4 rounded-xl result-wrong'; fb.classList.remove('hidden'); return; }
            const correct = mcQuestions[mcIndex].correct === selectedMC;
            fb.textContent = correct ? 'Correct!' : 'Correct answer: ' + mcQuestions[mcIndex].correct + '.';
            fb.className = 'mt-4 p-4 rounded-xl ' + (correct ? 'result-correct' : 'result-wrong');
            fb.classList.remove('hidden');
        });
        document.getElementById('btn-next-mc').addEventListener('click', function() {
            mcIndex = (mcIndex + 1) % mcQuestions.length;
            showMCQuestion();
        });
        showMCQuestion();
    </script>
</body>
</html>
